---
title: 线程池是如何实现线程复用的?
date: 2023-08-09 20:53:06
tags: 
- 线程池
- 线程复用
---
线程池里面采用了生产者消费者的模式，来实现线程复用。

生产者消费者模型，其实就是通过一个中间容器来解耦生产者和消费者的任务处理过程。

生产者不断生产任务保存到容器，消费者不断从容器中消费任务。

在线程池里面，因为需要保证工作线程的重复使用，并且这些线程应该是有任务的时候执行，没有任务的时候等待并释放CPU资源。因此，它使用了阻塞队列来实现这样一个需求。

提交任务到线程池里面的线程称为生产者线程，它不断往线程池里面传递任务。这些任务会保存到线程池的阻塞队列里面。然后线程池里面的工作线程不断从阻塞队列获取任务去执行。

基于阻塞队列的特性，使得阻塞队列中如果没有任务的时候，这些工作线程就会阻塞等待。直到又有新的任务进来，这些工作线程再次被唤醒。从而达到线程复用的目的。